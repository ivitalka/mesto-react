{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","style","backgroundImage","logo","Card","card","onImageClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","type","onClick","src","link","alt","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","method","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","data","body","JSON","stringify","cardId","authorization","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","defaultValue","required","minLength","maxLength","onChange","e","target","value","preventDefault","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","placeholder","ref","current","AddPlacePopup","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfile","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","item","removeCard","filter","c","updateProfile","changeAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAIeA,EAFYC,IAAMC,gBCFlB,MAA0B,iCCY1BC,MARf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACI,qBAAKA,UAAU,oBAAoBC,MAAO,CAACC,gBAAgB,OAAD,OAASC,EAAT,WCiCvDC,MArCf,YAAiE,IAAjDC,EAAgD,EAAhDA,KAAMC,EAA0C,EAA1CA,aAAcC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAEtCC,EAAcZ,IAAMa,WAAWd,GAE/Be,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,gDACzBH,EAAQ,sCAAwC,IAEhDI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OACrDM,EAAuB,+CACtBJ,EAAU,mCAAqC,IAUtD,OACI,mCACI,qBAAIf,UAAU,gBAAgBoB,GAAIf,EAAKQ,IAAvC,UACI,wBAAQQ,KAAK,SAASrB,UAAWc,EAA2BQ,QAN9C,WACtBd,EAAaH,MAML,qBAAKL,UAAU,mBAAmBuB,IAAKlB,EAAKmB,KAAMC,IAAKpB,EAAKqB,KACvDJ,QAdG,WAChBhB,EAAaD,MAeL,oBAAIL,UAAU,mBAAd,SAAkCK,EAAKqB,OACvC,sBAAK1B,UAAU,qBAAf,UACI,wBAAQqB,KAAK,SAASrB,UAAWmB,EAAyBG,QAflD,WACpBf,EAAWF,MAeC,mBAAGL,UAAU,wBAAb,SAAsCK,EAAKW,MAAMW,kBCStDC,MApCf,YAAyG,IAA1FC,EAAyF,EAAzFA,MAAOtB,EAAkF,EAAlFA,WAAYC,EAAsE,EAAtEA,aAAcsB,EAAwD,EAAxDA,cAAeC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,aAAc1B,EAAe,EAAfA,aAE/EG,EAAcZ,IAAMa,WAAWd,GAIrC,OACI,uBAAMI,UAAU,UAAhB,UACI,0BAASA,UAAU,UAAnB,UACI,wBAAQA,UAAU,uBAAuBsB,QAASU,EAAlD,SACI,qBAAKT,IAAKd,EAAYwB,OAAQR,IAAI,kFAAiBzB,UAAU,sBAEjE,sBAAKA,UAAU,gBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYiB,OAC3C,wBAAQL,KAAK,SAASrB,UAAU,4BAA4BsB,QAASQ,IACrE,mBAAG9B,UAAU,iBAAb,SAA+BS,EAAYyB,WAE/C,wBAAQb,KAAK,SAASrB,UAAU,2BAA2BsB,QAASS,OAIxE,yBAAS/B,UAAU,UAAnB,SACI,oBAAIA,UAAU,gBAAd,SACK6B,EAAMM,KAAI,SAAC9B,GAAD,OACP,cAAC,EAAD,CACMA,KAAMA,EACNC,aAAcA,EACdC,WAAcA,EACdC,aAAcA,GAJTH,EAAKQ,gBCrBzBuB,MAPf,WACI,OACI,wBAAQpC,UAAU,SAAlB,SACI,mBAAGA,UAAU,oBAAb,uCCWGqC,MAdf,YAA4E,IAApDC,EAAmD,EAAnDA,MAAOZ,EAA4C,EAA5CA,KAAMa,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SAC5D,OACI,yBAAS1C,UAAS,6BAAwB0B,EAAxB,YAAgCc,EAAS,eAAiB,IAA5E,SACI,sBAAKxC,UAAU,mBAAf,UACI,wBAAQqB,KAAK,SAASrB,UAAU,6BAA6BsB,QAASmB,IACtE,uBAAMzC,UAAS,yCAAoC0B,GAAQiB,OAAO,OAAOjB,KAAMA,EAAMgB,SAAUA,EAA/F,UACI,oBAAI1C,UAAU,iBAAd,SAAgCsC,IAC/BC,EACD,wBAAQlB,KAAK,SAASrB,UAAU,8BAAhC,6ECKL4C,MAbf,YAAsC,IAAjBvC,EAAgB,EAAhBA,KAAMoC,EAAU,EAAVA,QACvB,OACI,yBAASzC,UAAS,wCAAmCK,GAAQ,gBAA7D,SACI,sBAAKL,UAAU,mBAAf,UACI,wBAAQqB,KAAK,SAASrB,UAAS,qCAAgCK,EAAO,GAAK,gCAAkCiB,QAASmB,IACtH,yBAAQzC,UAAU,SAAlB,UACI,qBAAKA,UAAU,kBAAkBuB,IAAKlB,EAAOA,EAAKmB,KAAO,GAAIC,IAAKpB,EAAOA,EAAKqB,KAAO,KACrF,4BAAY1B,UAAU,kBAAtB,SAAyCK,EAAOA,EAAKqB,KAAO,c,cC6EjEmB,EARH,I,WA7ER,WAAYC,GAAS,oBACjBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,6DAGVC,GACb,OAAIA,EAAIC,GAGDD,EAAIE,OAFAC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,mCAK/B,IAAD,OACT,OAAOC,MAAM,GAAD,OAAIX,KAAKC,KAAT,YAAyB,CACjCG,QAASJ,KAAKG,WACfS,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,oCAIvBS,GAAO,IAAD,OAChB,OAAOH,MAAM,GAAD,OAAIX,KAAKC,KAAT,YAAyB,CACjCG,QAASJ,KAAKG,SACdP,OAAQ,QACRmB,KAAMC,KAAKC,UAAUH,KACtBF,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,mCAIxBS,GAAO,IAAD,OACf,OAAOH,MAAM,GAAD,OAAIX,KAAKC,KAAT,mBAAgC,CACxCG,QAASJ,KAAKG,SACdP,OAAQ,QACRmB,KAAMC,KAAKC,UAAUH,KACtBF,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,wCAIlB,IAAD,OACd,OAAOM,MAAM,GAAD,OAAIX,KAAKC,KAAT,SAAsB,CAC9BG,QAASJ,KAAKG,WACfS,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,+BAI5BS,GAAO,IAAD,OACX,OAAOH,MAAM,GAAD,OAAIX,KAAKC,KAAT,SAAsB,CAC9BL,OAAQ,OACRQ,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAUH,KACtBF,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,2CAIhBa,EAAQlD,GAAU,IAAD,OAClC,OAAO2C,MAAM,GAAD,OAAIX,KAAKC,KAAT,uBAA4BiB,GAAU,CAC9CtB,OAAO,GAAD,OAAK5B,EAAU,MAAQ,UAC7BoC,QAASJ,KAAKG,WACfS,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,Q,iCAI1Ba,GAAS,IAAD,OACf,OAAOP,MAAM,GAAD,OAAIX,KAAKC,KAAT,iBAAsBiB,GAAU,CACxCtB,OAAQ,SACRQ,QAASJ,KAAKG,WACfS,MAAK,SAACP,GACL,OAAO,EAAKQ,iBAAiBR,U,KAK7B,CAAQ,CAChBH,IAAK,+CACLE,QAAS,CACLe,cAAe,uCACf,eAAgB,sBC5BTC,MAlDf,YAA4D,IAAjC3B,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAAS2B,EAAe,EAAfA,aAClC3D,EAAcZ,IAAMa,WAAWd,GAErCC,IAAMwE,WAAU,WACZC,EAAQ7D,EAAYiB,MACpB6C,EAAe9D,EAAYyB,SAC5B,CAACzB,IANmD,MAQ/BZ,IAAM2E,SAAS,IARgB,mBAQhD9C,EARgD,KAQ1C4C,EAR0C,OASjBzE,IAAM2E,SAAS,IATE,mBAShDC,EATgD,KASnCF,EATmC,KAyBvD,OACI,cAAC,EAAD,CACI7C,KAAM,OACNY,MAAO,4HACPC,SACI,qCACI,sBAAKvC,UAAU,yBAAf,UACI,uBAAOA,UAAU,yCAAyCqB,KAAK,OAAOK,KAAK,OAAON,GAAG,eAC9EsD,aAAchD,EAAMiD,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,SAtBrF,SAA0BC,GACtBT,EAAQS,EAAEC,OAAOC,UAsBD,sBAAM7D,GAAG,qBAAqBpB,UAAU,aAE5C,sBAAKA,UAAU,yBAAf,UACI,uBAAOA,UAAU,0CAA0CqB,KAAK,OAAOK,KAAK,QAAQN,GAAG,gBAChFsD,aAAcD,EAAaE,UAAQ,EAACC,UAAU,IAAIC,UAAU,MAAMC,SAxB7F,SAAiCC,GAC7BR,EAAeQ,EAAEC,OAAOC,UAwBR,sBAAM7D,GAAG,sBAAsBpB,UAAU,gBAIrDwC,OAAQA,EACRC,QAASA,EACTC,SA5BR,SAAsBqC,GAClBA,EAAEG,iBACFd,EAAa,CACT1C,OACAQ,MAAOuC,QCQJU,MA9Bf,YAA6D,IAAnC3C,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,QAAS2C,EAAiB,EAAjBA,eAEjCC,EAAYxF,IAAMyF,SAQxB,OACI,cAAC,EAAD,CACI5D,KAAM,SACNY,MAAO,wFACPC,SACI,mCACI,sBAAKvC,UAAU,yBAAf,UACI,uBAAOA,UAAU,wCAAwCuF,YAAY,yFAAmBlE,KAAK,MACtFK,KAAK,SAASN,GAAG,cAAcuD,UAAQ,EAACa,IAAKH,IACpD,sBAAMjE,GAAG,oBAAoBpB,UAAU,eAInDwC,OAAQA,EACRC,QAASA,EACTC,SArBR,SAAsBqC,GAClBA,EAAEG,iBACFE,EAAe,CACXnD,OAAQoD,EAAUI,QAAQR,YC6BvBS,MAlCf,YAAuD,IAA/BlD,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,QAASV,EAAa,EAAbA,WAC/B4D,EAAU9F,IAAMyF,SAChBM,EAAU/F,IAAMyF,SAQtB,OACI,cAAC,EAAD,CACI5D,KAAM,MACNY,MAAO,gEACPC,SACI,qCACI,sBAAKvC,UAAU,yBAAf,UACI,uBAAOA,UAAU,yCAAyCuF,YAAY,mDAAWlE,KAAK,OAC/EK,KAAK,cAAcN,GAAG,eAAeuD,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKW,IAAKG,IACvF,sBAAMvE,GAAG,qBAAqBpB,UAAU,aAE5C,sBAAKA,UAAU,yBAAf,UACI,uBAAOA,UAAU,yCAAyCuF,YAAY,qGAAqBlE,KAAK,MACzFK,KAAK,cAAcN,GAAG,eAAeuD,UAAQ,EAACa,IAAKI,IAC1D,sBAAMxE,GAAG,qBAAqBpB,UAAU,gBAGpDwC,OAAQA,EACRC,QAASA,EACTC,SA1BR,SAAsBqC,GAClBA,EAAEG,iBACFnD,EAAW,CACPL,KAAMiE,EAAQF,QAAQR,MACtBzD,KAAMoE,EAAQH,QAAQR,YC2InBY,MA3If,WAAgB,IAAD,EAEiDhG,IAAM2E,UAAS,GAFhE,mBAEJsB,EAFI,KAEoBC,EAFpB,OAG2ClG,IAAM2E,UAAS,GAH1D,mBAGJwB,EAHI,KAGiBC,EAHjB,OAI+CpG,IAAM2E,UAAS,GAJ9D,mBAIJ0B,EAJI,KAImBC,EAJnB,OAK6BtG,IAAM2E,SAAS,MAL5C,mBAKJ4B,EALI,KAKUC,EALV,OAM2BxG,IAAM2E,SAAS,IAN1C,mBAMJ/D,EANI,KAMS6F,EANT,OAOezG,IAAM2E,SAAS,IAP9B,mBAOJ3C,EAPI,KAOG0E,EAPH,KAmEX,SAASC,IACLT,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,EAAgB,MAiBtB,OAdExG,IAAMwE,WAAU,WACZxB,EAAI4D,aAAa9C,MAAK,SAACE,GACnByC,EAAezC,MAChB6C,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEjB,IACH9G,IAAMwE,WAAU,WACZxB,EAAIiE,kBACCnD,MAAK,SAAAE,GAAS0C,EAAS1C,MACvB6C,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,IAED,cAAC,EAAmBI,SAApB,CAA6B9B,MAAOxE,EAApC,SACA,qBAAKT,UAAU,OAAf,SACA,sBAAKA,UAAU,OAAf,UAEE,cAAC,EAAD,IACA,cAAC,EAAD,CACI6B,MAAOA,EACPtB,WA5DR,SAAwBF,GACpB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAC3DgC,EAAImE,qBAAqB3G,EAAKQ,KAAME,GAAS4C,MAAK,SAACsD,GAC/C,IAAMC,EAAWrF,EAAMM,KAAI,SAACgF,GAAD,OAAUA,EAAKtG,MAAQR,EAAKQ,IAAMoG,EAAUE,KACvEZ,EAASW,MAERR,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAsDhBnG,aAnDR,SAA0BH,GACtBwC,EAAIuE,WAAW/G,EAAKQ,KACf8C,MAAK,WACF,IAAMuD,EAAWrF,EAAMwF,QAAO,SAAAC,GAAC,OAAIA,IAAMjH,KACzCkG,EAASW,MAEZR,OAAM,SAACC,GACJC,QAAQC,IAAIF,OA6ChB7E,cAxFR,WAAoCiE,GAA0B,IAyFtDhE,WAxFR,WAAiCkE,GAAuB,IAyFhDjE,aAxFR,WAAmCmE,GAAyB,IAyFpD7F,aAxFR,SAAyBD,GAAOgG,EAAgBhG,MA2F5C,cAAC,EAAD,CACImC,OAAQsD,EACRrD,QAAS+D,EACTpC,aA5FR,SAA0BP,GACtBhB,EAAI0E,cAAc1D,GACbF,MAAK,SAAAP,GACNkD,EAAelD,GACfoD,OAECE,OAAM,SAACC,GACRC,QAAQC,IAAIF,SAuFd,cAAC,EAAD,CACInE,OAAQ0D,EACRzD,QAAS+D,EACTpB,eAvFV,SAA4BvB,GACxBhB,EAAI2E,aAAa3D,GACZF,MAAK,SAAAP,GACFkD,EAAelD,GACfoD,OAEHE,OAAM,SAACC,GACRC,QAAQC,IAAIF,SAmFd,cAAC,EAAD,CACAnE,OAAQwD,EACRvD,QAAS+D,EACTzE,WA9DN,SAA8B1B,GAC1BwC,EAAI4E,SAASpH,GACRsD,MAAK,SAAAsD,GACFV,EAAS,CAACU,GAAF,mBAAcpF,KACtB2E,OAEHE,OAAM,SAACC,GACJC,QAAQC,IAAIF,SAyDpB,cAAC,EAAD,IACA,cAAC,EAAD,CACIjF,KAAM,SACNY,MAAO,2DACPC,SAAU,GACVE,QAAS+D,IAEb,cAAC,EAAD,CACInG,KAAM+F,EACN3D,QAAS+D,IAEb,cAAC,EAAD,YCnIOkB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjE,MAAK,YAAkD,IAA/CkE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.27ecfcc1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import logo from \"../images/logo.svg\";\nimport React from \"react\";\n\n\nfunction Header() {\n    return(\n        <header className=\"header\">\n            <div className=\"logo header__logo\" style={{backgroundImage: `url(${logo})`}}/>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onImageClick, onCardLike, onCardDelete }) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n    const cardRemoveButtonClassName = `button button_action_remove \n        ${isOwn ? \"button button_action_remove-visible\" : \"\"}`;\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = `button button_action_like \n         ${isLiked ? \"button button_action_like-active\" : \"\"}`;\n    const handleClick = () => {\n        onImageClick(card);\n    };\n    const handleLikeClick = () => {\n        onCardLike(card);\n    };\n    const handleDeleteClick = () => {\n        onCardDelete(card);\n    };\n    return (\n        <>\n            <li className=\"gallery__item\" id={card._id}>\n                <button type=\"button\" className={cardRemoveButtonClassName} onClick={handleDeleteClick}/>\n                <img className=\"gallery__picture\" src={card.link} alt={card.name}\n                     onClick={handleClick}\n                />\n                <h2 className=\"gallery__heading\">{card.name}</h2>\n                <div className=\"gallery__container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n                    <p className=\"gallery__like-counter\">{card.likes.length}</p>\n                </div>\n            </li>\n        </>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\n\n\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, onImageClick}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <button className=\"button_action_update\" onClick={onEditAvatar}>\n                    <img src={currentUser.avatar} alt=\"Аватар профиля\" className=\"profile__avatar\"/>\n                </button>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button type=\"button\" className=\"button button_action_edit\" onClick={onEditProfile} />\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"button button_action_add\" onClick={onAddPlace}/>\n\n            </section>\n\n            <section className=\"gallery\">\n                <ul className=\"gallery__list\">\n                    {cards.map((card) =>\n                        <Card key={card._id}\n                              card={card}\n                              onImageClick={onImageClick}\n                              onCardLike = {onCardLike}\n                              onCardDelete={onCardDelete}\n                        />\n                    )}\n                </ul>\n            </section>\n        </main>\n    )\n}\nexport default Main;","import React from \"react\";\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    )\n}\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm({title, name, children, isOpen, onClose, onSubmit}) {\n    return (\n        <section className={`popup popup_action_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"button button_action_close\" onClick={onClose}/>\n                <form className={`popup__form popup__form_action_${name}`} method=\"post\" name={name} onSubmit={onSubmit}>\n                    <h2 className=\"popup__heading\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"button button_action_submit\">Сохранить</button>\n                </form>\n            </div>\n        </section>\n    )\n}\nexport default PopupWithForm;","import React from \"react\";\n\nfunction ImagePopup({card, onClose}) {\n    return(\n        <section className={`popup popup_action_fullscreen ${card && \"popup_opened\"}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className={`button button_action_close ${card ? '' : 'button_action_close-inactive'}`} onClick={onClose}/>\n                <figure className=\"figure\">\n                    <img className=\"figure__picture\" src={card ? card.link : \"\"} alt={card ? card.name : \"\"}/>\n                    <figcaption className=\"figure__caption\">{card ? card.name : \"\"}</figcaption>\n                </figure>\n            </div>\n        </section>\n    )\n}\nexport default ImagePopup","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _getResponseData(res) {\n        if(!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n    }\n\n    getProfile() {\n        return fetch(`${this._url}users/me`, {\n            headers: this._headers\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    updateProfile(data) {\n        return fetch(`${this._url}users/me`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    changeAvatar(data) {\n        return fetch(`${this._url}users/me/avatar`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(data)\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}cards`, {\n            headers: this._headers\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    postCard(data) {\n        return fetch(`${this._url}cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify(data)\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return fetch(`${this._url}cards/likes/${cardId}`, {\n            method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n            headers: this._headers,\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n\n    removeCard(cardId) {\n        return fetch(`${this._url}cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: this._headers,\n        }).then((res) => {\n            return this._getResponseData(res);\n        })\n    }\n}\n\nconst api = new Api({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n    headers: {\n        authorization: \"e879a6b8-e74b-4471-9f27-351cc1bff765\",\n        \"content-type\": \"application/json\",\n    }\n});\n\nexport default api;","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    const [name, setName] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name={\"edit\"}\n            title={\"Редактировать профиль\"}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_profile_name\" type=\"text\" name=\"name\" id=\"profile-name\"\n                               defaultValue={name} required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n                        <span id=\"profile-name-error\" className=\"error\"/>\n                    </div>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_profile_about\" type=\"text\" name=\"about\" id=\"profile-about\"\n                               defaultValue={description} required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange}/>\n                        <span id=\"profile-about-error\" className=\"error\"/>\n                    </div>\n                </>\n            }\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n    const avatarRef = React.useRef();\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        })\n    }\n    return (\n        <PopupWithForm\n            name={\"update\"}\n            title={\"Обновить аватар\"}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_avatar_link\" placeholder=\"Ссылка на аватар\" type=\"url\"\n                               name=\"avatar\" id=\"avatar-link\" required ref={avatarRef}/>\n                        <span id=\"avatar-link-error\" className=\"error\"/>\n                    </div>\n                </>\n            }\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default EditAvatarPopup;","import  React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n    const nameRef = React.useRef();\n    const linkRef = React.useRef();\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddPlace({\n            name: nameRef.current.value,\n            link: linkRef.current.value\n        })\n    }\n    return (\n        <PopupWithForm\n            name={\"add\"}\n            title={\"Новое место\"}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_picture_name\" placeholder=\"Название\" type=\"text\"\n                               name=\"pictureName\" id=\"picture-name\" required minLength=\"2\" maxLength=\"30\" ref={nameRef}/>\n                        <span id=\"picture-name-error\" className=\"error\"/>\n                    </div>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_picture_link\" placeholder=\"Ссылка на картинку\" type=\"url\"\n                               name=\"pictureLink\" id=\"picture-link\" required ref={linkRef}/>\n                        <span id=\"picture-link-error\" className=\"error\"/>\n                    </div>\n                </>}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n    )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\"\nimport Header from \"./Header\"\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n\n    function handleEditProfileClick() { setIsEditProfilePopupOpen(true) }\n    function handleAddPlaceClick() { setIsAddPlacePopupOpen(true) }\n    function handleEditAvatarClick() { setIsEditAvatarPopupOpen(true) }\n    function handleCardClick(card) {setSelectedCard(card)}\n\n    function handleUpdateUser(data) {\n        api.updateProfile(data)\n            .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n            .catch((err) => {\n            console.log(err);\n        })\n    }\n    function handleUpdateAvatar(data) {\n        api.changeAvatar(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups();\n            })\n            .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n            const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n            setCards(newCards);\n        })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n    function handleCardDelete(card){\n        api.removeCard(card._id)\n            .then(() => {\n                const newCards = cards.filter(c => c !== card);\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n    function handleAddPlaceSubmit(card) {\n        api.postCard(card)\n            .then(newCard => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectedCard(null);\n    }\n\n    React.useEffect(() => {\n        api.getProfile().then((data) => {\n            setCurrentUser(data);\n        }).catch((err) => {\n            console.log(err);\n        })\n    }, []);\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then(data => {setCards(data)})\n            .catch((err) => {\n                console.log(err);\n            })\n    }, []);\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n      <div className=\"page\">\n\n        <Header />\n        <Main\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onImageClick={handleCardClick}\n\n        />\n        <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n        />\n          <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          />\n        <EditProfilePopup />\n        <PopupWithForm\n            name={\"submit\"}\n            title={\"Вы уверены?\"}\n            children={''}\n            onClose={closeAllPopups}\n        />\n        <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n        />\n        <Footer />\n\n      </div>\n      </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}