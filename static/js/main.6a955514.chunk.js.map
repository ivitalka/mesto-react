{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","userData","linkText","linkPath","signOut","className","style","backgroundImage","logo","onClick","to","Card","card","onImageClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","type","src","link","alt","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","method","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","data","body","JSON","stringify","cardId","authorization","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","defaultValue","required","minLength","maxLength","onChange","e","target","value","preventDefault","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","placeholder","ref","current","AddPlacePopup","nameRef","linkRef","Login","handleLogin","email","password","setData","handleChange","Register","handleRegister","ProtectedRoute","Component","component","props","exact","path","loggedIn","InfoTooltip","infoMessage","infoOk","BASE_URL","checkResponse","response","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","message","setMessage","setInfoOk","history","useHistory","closeAllPopups","tokenCheck","token","localStorage","getItem","Authorization","auth","catch","console","log","getProfile","err","getInitialCards","push","Provider","Error","setItem","removeItem","changeLikeCardStatus","newCard","newCards","item","removeCard","filter","c","updateProfile","changeAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a955514.chunk.js","sourcesContent":["import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom/';\nimport logo from '../images/logo.svg';\n\nfunction Header({\n  userData, linkText, linkPath, signOut,\n}) {\n  return (\n        <header className=\"header\">\n            <div className=\"logo header__logo\" style={{ backgroundImage: `url(${logo})` }}/>\n            <p className=\"header__text\">{ userData }</p>\n          <Link className=\"link header__link\" onClick={signOut} to={linkPath}>{linkText}</Link>\n        </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({\n  card, onImageClick, onCardLike, onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardRemoveButtonClassName = `button button_action_remove\n        ${isOwn ? 'button button_action_remove-visible' : ''}`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `button button_action_like\n         ${isLiked ? 'button button_action_like-active' : ''}`;\n  const handleClick = () => {\n    onImageClick(card);\n  };\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n  return (\n        <>\n            <li className=\"gallery__item\" id={card._id}>\n                <button type=\"button\" className={cardRemoveButtonClassName} onClick={handleDeleteClick}/>\n                <img className=\"gallery__picture\" src={card.link} alt={card.name}\n                     onClick={handleClick}\n                />\n                <h2 className=\"gallery__heading\">{card.name}</h2>\n                <div className=\"gallery__container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n                    <p className=\"gallery__like-counter\">{card.likes.length}</p>\n                </div>\n            </li>\n        </>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({\n  cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, onImageClick,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <button className=\"button_action_update\" onClick={onEditAvatar}>\n                    <img src={currentUser.avatar} alt=\"Аватар профиля\" className=\"profile__avatar\"/>\n                </button>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button type=\"button\" className=\"button button_action_edit\" onClick={onEditProfile} />\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"button button_action_add\" onClick={onAddPlace}/>\n\n            </section>\n\n            <section className=\"gallery\">\n                <ul className=\"gallery__list\">\n                    {cards.map((card) => <Card key={card._id}\n                              card={card}\n                              onImageClick={onImageClick}\n                              onCardLike = {onCardLike}\n                              onCardDelete={onCardDelete}\n                        />)}\n                </ul>\n            </section>\n        </main>\n  );\n}\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n  );\n}\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({\n  title, name, children, isOpen, onClose, onSubmit,\n}) {\n  return (\n        <section className={`popup popup_action_${name} ${isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"button button_action_close\" onClick={onClose}/>\n                <form className={`popup__form popup__form_action_${name}`} method=\"post\" name={name} onSubmit={onSubmit}>\n                    <h2 className=\"popup__heading\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"button button_action_submit\">Сохранить</button>\n                </form>\n            </div>\n        </section>\n  );\n}\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n        <section className={`popup popup_action_fullscreen ${card && 'popup_opened'}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className={`button button_action_close ${card ? '' : 'button_action_close-inactive'}`} onClick={onClose}/>\n                <figure className=\"figure\">\n                    <img className=\"figure__picture\" src={card ? card.link : ''} alt={card ? card.name : ''}/>\n                    <figcaption className=\"figure__caption\">{card ? card.name : ''}</figcaption>\n                </figure>\n            </div>\n        </section>\n  );\n}\nexport default ImagePopup;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _getResponseData(res) {\n    if (!res.ok) {\n      // eslint-disable-next-line prefer-promise-reject-errors\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfile() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateProfile(data) {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  postCard(data) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => this._getResponseData(res));\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-18/',\n  headers: {\n    authorization: 'e879a6b8-e74b-4471-9f27-351cc1bff765',\n    'content-type': 'application/json',\n  },\n});\n\nexport default api;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n        <PopupWithForm\n            name={'edit'}\n            title={'Редактировать профиль'}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_profile_name\" type=\"text\" name=\"name\" id=\"profile-name\"\n                               defaultValue={name} required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n                        <span id=\"profile-name-error\" className=\"error\"/>\n                    </div>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_profile_about\" type=\"text\" name=\"about\" id=\"profile-about\"\n                               defaultValue={description} required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange}/>\n                        <span id=\"profile-about-error\" className=\"error\"/>\n                    </div>\n                </>\n            }\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n  return (\n        <PopupWithForm\n            name={'update'}\n            title={'Обновить аватар'}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_avatar_link\" placeholder=\"Ссылка на аватар\" type=\"url\"\n                               name=\"avatar\" id=\"avatar-link\" required ref={avatarRef}/>\n                        <span id=\"avatar-link-error\" className=\"error\"/>\n                    </div>\n                </>\n            }\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  }\n  return (\n        <PopupWithForm\n            name={'add'}\n            title={'Новое место'}\n            children={\n                <>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_picture_name\" placeholder=\"Название\" type=\"text\"\n                               name=\"pictureName\" id=\"picture-name\" required minLength=\"2\" maxLength=\"30\" ref={nameRef}/>\n                        <span id=\"picture-name-error\" className=\"error\"/>\n                    </div>\n                    <div className=\"popup__input-container\">\n                        <input className=\"popup__input popup__input_picture_link\" placeholder=\"Ссылка на картинку\" type=\"url\"\n                               name=\"pictureLink\" id=\"picture-link\" required ref={linkRef}/>\n                        <span id=\"picture-link-error\" className=\"error\"/>\n                    </div>\n                </>}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        />\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport Header from './Header';\n\nfunction Login({ handleLogin, linkText, linkPath }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: '',\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    handleLogin(data.email, data.password);\n  };\n\n  return (\n            <div className=\"page\">\n              <Header linkText={linkText} linkPath={linkPath}/>\n                <div className=\"auntification\">\n                    <p className=\"auntification__title\">Вход</p>\n                    <form onSubmit={handleSubmit} className=\"form auntification__form\">\n                        <input className=\"input auntification__input\"\n                               type=\"text\"\n                               name=\"email\"\n                               placeholder=\"Email\"\n                               value={data.email}\n                               onChange={handleChange}\n                        />\n                        <input className=\"input auntification__input\"\n                               type=\"password\"\n                               name=\"password\"\n                               placeholder=\"Пароль\"\n                               value={data.password}\n                               onChange={handleChange}\n                        />\n                        <button className=\"button auntification__button\" type=\"submit\">Войти</button>\n                    </form>\n                </div>\n            </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nfunction Register({ handleRegister, linkText, linkPath }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: '',\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleRegister(data.password, data.email);\n  };\n\n  return (\n            <div className=\"page\">\n              <Header linkText={linkText} linkPath={linkPath}/>\n                <div className=\"auntification\">\n                    <p className=\"auntification__title\">Регистрация</p>\n                    <form onSubmit={handleSubmit} className=\"form auntification__form\">\n                        <input className=\"input auntification__input\"\n                               name=\"email\"\n                               type=\"text\"\n                               placeholder=\"Email\"\n                               value={data.email}\n                               onChange={handleChange}\n                        />\n                        <input className=\"input auntification__input\"\n                               name=\"password\"\n                               type=\"password\"\n                               placeholder=\"Пароль\"\n                               value={data.password}\n                               onChange={handleChange}\n                        />\n                        <button className=\"button auntification__button\" type=\"submit\">Зарегистрироваться</button>\n                    </form>\n                    <p className=\"auntification__text\">Уже зарегистрированы? <Link className=\"link\" to=\"sign-in\">Войти</Link></p>\n                </div>\n            </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n        <Route exact path={props.path}>\n            {\n                () => (props.loggedIn ? <Component {...props}/> : <Redirect to=\"/sign-in\"/>)\n            }\n        </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nfunction InfoTooltip({\n  isOpen, onClose, infoMessage, infoOk,\n}) {\n  return (\n    <section className={`popup popup_action_info ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className={'button button_action_close'} onClick={onClose}/>\n        <div className={`popup__info ${infoOk ? 'popup__info_state_ok' : 'popup__info_state_error'}`}>\n          <h3 className=\"message popup__message\">{infoMessage}</h3>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (password, email) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n  .then((res) => res);\n\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n  .then((response) => checkResponse(response));\n\nexport const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n})\n  .then((response) => response.json());\n\nconst checkResponse = (response) => {\n  if (response.ok) {\n    return response.json();\n  }\n  return response;\n};\n","import React from 'react';\nimport {\n  Route, Switch, Redirect, useHistory,\n} from 'react-router-dom';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from './Auth';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState('');\n  const [message, setMessage] = React.useState('');\n  const [infoOk, setInfoOk] = React.useState(null);\n\n  const history = useHistory();\n\n  function handleEditProfileClick() { setIsEditProfilePopupOpen(true); }\n  function handleAddPlaceClick() { setIsAddPlacePopupOpen(true); }\n  function handleEditAvatarClick() { setIsEditAvatarPopupOpen(true); }\n  function handleCardClick(card) { setSelectedCard(card); }\n\n  function handleUpdateUser(data) {\n    api.updateProfile(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((item) => (item._id === card._id ? newCard : item));\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c !== card);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleAddPlaceSubmit(card) {\n    api.postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  const handleLogin = (email, password) => {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          setUserData(email);\n          setLoggedIn(true);\n          setMessage('Вход выполнен!');\n          setInfoOk(true);\n          setIsInfoTooltipOpen(true);\n        } else if (data.status === 400) {\n          throw new Error('Не передано одно из полей!');\n        } else if (data.status === 401) {\n          throw new Error('Не верно введен email или пароль!');\n        } else {\n          throw new Error('Ошибка сервера!');\n        }\n      })\n      .catch((e) => {\n        setInfoOk(false);\n        setIsInfoTooltipOpen(true);\n        setMessage(e.message);\n      });\n  };\n  const handleRegister = (password, email) => {\n    auth.register(password, email)\n      .then((res) => {\n        if (res.status !== 400) {\n          setMessage('Регистрация прошла успешно!');\n          setInfoOk(true);\n          setIsInfoTooltipOpen(true);\n          history.push('/sign-in');\n        } else if (res.status === 400) {\n          throw new Error('Что-то пошло не так! Попробуйте ещё раз.');\n        } else {\n          throw new Error('Ошибка сервера!');\n        }\n      })\n      .catch((e) => {\n        setInfoOk(false);\n        setIsInfoTooltipOpen(true);\n        setMessage(e.message);\n      });\n  };\n  const handleSignOut = () => {\n    setLoggedIn(false);\n    localStorage.removeItem('token');\n  };\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserData(res.data.email);\n            setLoggedIn(true);\n          }\n        })\n        .catch((e) => console.log(e));\n    }\n  }\n\n  React.useEffect(() => {\n    api.getProfile().then((data) => {\n      setCurrentUser(data);\n    }).catch((err) => {\n      console.log(err);\n    });\n  }, []);\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => { setCards(data); })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn]);\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n          <Switch>\n              <Route path =\"/sign-up\">\n                    <Register handleRegister={handleRegister} linkPath={'/sign-in'} linkText={'Войти'}/>\n                <InfoTooltip\n                  isOpen={isInfoTooltipOpen}\n                  onClose={closeAllPopups}\n                  infoMessage={message}\n                  infoOk={infoOk}\n                />\n              </Route>\n              <Route path =\"/sign-in\">\n                  <Login handleLogin={handleLogin} linkPath={'/sign-up'} linkText={'Регистрация'} />\n                <InfoTooltip\n                  isOpen={isInfoTooltipOpen}\n                  onClose={closeAllPopups}\n                  infoMessage={message}\n                  infoOk={infoOk}\n                />\n              </Route>\n              <>\n                  <div className=\"page\">\n                    <Header userData={userData} linkPath={'/sign-in'} linkText={'Выйти'} signOut={handleSignOut} />\n                    <Route path=\"/\">\n                        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n                    </Route>\n                    <ProtectedRoute\n                                    loggedIn={loggedIn}\n                                    component={Main}\n                                    cards={cards}\n                                    onCardLike={handleCardLike}\n                                    onCardDelete={handleCardDelete}\n                                    onEditProfile={handleEditProfileClick}\n                                    onAddPlace={handleAddPlaceClick}\n                                    onEditAvatar={handleEditAvatarClick}\n                                    onImageClick={handleCardClick}>\n                    </ProtectedRoute>\n                    <EditProfilePopup\n                        isOpen={isEditProfilePopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                    />\n                    <InfoTooltip\n                      isOpen={isInfoTooltipOpen}\n                      onClose={closeAllPopups}\n                      infoMessage={message}\n                      infoOk={infoOk}\n                    />\n                    <EditAvatarPopup\n                        isOpen={isEditAvatarPopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                    />\n\n                      <AddPlacePopup\n                      isOpen={isAddPlacePopupOpen}\n                      onClose={closeAllPopups}\n                      onAddPlace={handleAddPlaceSubmit}\n                      />\n                    <EditProfilePopup />\n                    <PopupWithForm\n                        name={'submit'}\n                        title={'Вы уверены?'}\n                        children={''}\n                        onClose={closeAllPopups}\n                    />\n                    <ImagePopup\n                        card={selectedCard}\n                        onClose={closeAllPopups}\n                    />\n                    <Footer />\n                  </div>\n              </>\n          </Switch>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}